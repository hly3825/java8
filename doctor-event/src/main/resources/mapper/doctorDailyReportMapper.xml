<?xml version="1.0" encoding="UTF-8" ?>
<!--
  ~ Copyright (c) 2016 杭州端点网络科技有限公司, Code generated by terminus code gen
  -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="DoctorDailyReport">
    <resultMap id="DoctorDailyReportMap" type="DoctorDailyReport">
        <id column="id" property="id"/>
        <result column="farm_id" property="farmId"/>
        <result column="sum_at" property="sumAt"/>
        <result column="sow_ph" property="sowPh"/>
        <result column="sow_cf" property="sowCf"/>
        <result column="sow_start" property="sowStart"/>
        <result column="sow_in" property="sowIn"/>
        <result column="sow_dead" property="sowDead"/>
        <result column="sow_weed_out" property="sowWeedOut"/>
        <result column="sow_sale" property="sowSale"/>
        <result column="sow_other_out" property="sowOtherOut"/>
        <result column="sow_chg_farm" property="sowChgFarm"/>
        <result column="sow_end" property="sowEnd"/>
        <result column="sow_ph_start" property="sowPhStart"/>
        <result column="sow_ph_in_farm_in" property="sowPhInFarmIn"/>
        <result column="sow_ph_wean_in" property="sowPhWeanIn"/>
        <result column="sow_ph_dead" property="sowPhDead"/>
        <result column="sow_ph_weed_out" property="sowPhWeedOut"/>
        <result column="sow_ph_sale" property="sowPhSale"/>
        <result column="sow_ph_other_out" property="sowPhOtherOut"/>
        <result column="sow_ph_to_cf" property="sowPhToCf"/>
        <result column="sow_ph_chg_farm" property="sowPhChgFarm"/>
        <result column="sow_ph_end" property="sowPhEnd"/>
        <result column="sow_cf_start" property="sowCfStart"/>
        <result column="sow_cf_in" property="sowCfIn"/>
        <result column="sow_cf_dead" property="sowCfDead"/>
        <result column="sow_cf_weed_out" property="sowCfWeedOut"/>
        <result column="sow_cf_sale" property="sowCfSale"/>
        <result column="sow_cf_other_out" property="sowCfOtherOut"/>
        <result column="sow_cf_wean_out" property="sowCfWeanOut"/>
        <result column="sow_cf_chg_farm" property="sowCfChgFarm"/>
        <result column="sow_cf_end" property="sowCfEnd"/>
        <result column="boar_start" property="boarStart"/>
        <result column="boar_in" property="boarIn"/>
        <result column="boar_dead" property="boarDead"/>
        <result column="boar_weed_out" property="boarWeedOut"/>
        <result column="boar_sale" property="boarSale"/>
        <result column="boar_other_out" property="boarOtherOut"/>
        <result column="boar_chg_farm" property="boarChgFarm"/>
        <result column="boar_end" property="boarEnd"/>
        <result column="mate_hb" property="mateHb"/>
        <result column="mate_dn" property="mateDn"/>
        <result column="mate_fq" property="mateFq"/>
        <result column="mate_lc" property="mateLc"/>
        <result column="mate_yx" property="mateYx"/>
        <result column="preg_positive" property="pregPositive"/>
        <result column="preg_negative" property="pregNegative"/>
        <result column="preg_fanqing" property="pregFanqing"/>
        <result column="preg_liuchan" property="pregLiuchan"/>
        <result column="farrow_nest" property="farrowNest"/>
        <result column="farrow_all" property="farrowAll"/>
        <result column="farrow_live" property="farrowLive"/>
        <result column="farrow_health" property="farrowHealth"/>
        <result column="farrow_weak" property="farrowWeak"/>
        <result column="farrow_dead" property="farrowDead"/>
        <result column="farrow_jx" property="farrowJx"/>
        <result column="farrow_mny" property="farrowMny"/>
        <result column="farrow_black" property="farrowBlack"/>
        <result column="farrow_sjmh" property="farrowSjmh"/>
        <result column="farrow_weight" property="farrowWeight"/>
        <result column="farrow_avg_weight" property="farrowAvgWeight"/>
        <result column="wean_nest" property="weanNest"/>
        <result column="wean_count" property="weanCount"/>
        <result column="wean_avg_weight" property="weanAvgWeight"/>
        <result column="wean_day_age" property="weanDayAge"/>
        <result column="base_price_10" property="basePrice10"/>
        <result column="base_price_15" property="basePrice15"/>
        <result column="fatten_price" property="fattenPrice"/>
        <result column="sow_ph_feed" property="sowPhFeed"/>
        <result column="sow_ph_feed_amount" property="sowPhFeedAmount"/>
        <result column="sow_ph_medicine_amount" property="sowPhMedicineAmount"/>
        <result column="sow_ph_vaccination_amount" property="sowPhVaccinationAmount"/>
        <result column="sow_ph_consumable_amount" property="sowPhConsumableAmount"/>
        <result column="sow_cf_feed" property="sowCfFeed"/>
        <result column="sow_cf_feed_amount" property="sowCfFeedAmount"/>
        <result column="sow_cf_medicine_amount" property="sowCfMedicineAmount"/>
        <result column="sow_cf_vaccination_amount" property="sowCfVaccinationAmount"/>
        <result column="sow_cf_consumable_amount" property="sowCfConsumableAmount"/>
        <result column="farrow_feed" property="farrowFeed"/>
        <result column="farrow_feed_amount" property="farrowFeedAmount"/>
        <result column="farrow_medicine_amount" property="farrowMedicineAmount"/>
        <result column="farrow_vaccination_amount" property="farrowVaccinationAmount"/>
        <result column="farrow_consumable_amount" property="farrowConsumableAmount"/>
        <result column="nursery_feed" property="nurseryFeed"/>
        <result column="nursery_feed_amount" property="nurseryFeedAmount"/>
        <result column="nursery_medicine_amount" property="nurseryMedicineAmount"/>
        <result column="nursery_vaccination_amount" property="nurseryVaccinationAmount"/>
        <result column="nursery_consumable_amount" property="nurseryConsumableAmount"/>
        <result column="fatten_feed" property="fattenFeed"/>
        <result column="fatten_feed_amount" property="fattenFeedAmount"/>
        <result column="fatten_medicine_amount" property="fattenMedicineAmount"/>
        <result column="fatten_vaccination_amount" property="fattenVaccinationAmount"/>
        <result column="fatten_consumable_amount" property="fattenConsumableAmount"/>
        <result column="houbei_feed" property="houbeiFeed"/>
        <result column="houbei_feed_amount" property="houbeiFeedAmount"/>
        <result column="houbei_medicine_amount" property="houbeiMedicineAmount"/>
        <result column="houbei_vaccination_amount" property="houbeiVaccinationAmount"/>
        <result column="houbei_consumable_amount" property="houbeiConsumableAmount"/>
        <result column="created_at" property="createdAt"/>
        <result column="updated_at" property="updatedAt"/>

    </resultMap>

    <sql id="tb">
        doctor_daily_reports
    </sql>

    <sql id="cols_all">
        id, <include refid="cols_exclude_id" />
    </sql>

    <sql id="cols_exclude_id">
        farm_id,
        sum_at,
        sow_ph,
        sow_cf,
        sow_start,
        sow_in,
        sow_dead,
        sow_weed_out,
        sow_sale,
        sow_other_out,
        sow_chg_farm,
        sow_end,
        sow_ph_start,
        sow_ph_in_farm_in,
        sow_ph_wean_in,
        sow_ph_dead,
        sow_ph_weed_out,
        sow_ph_sale,
        sow_ph_other_out,
        sow_ph_to_cf,
        sow_ph_chg_farm,
        sow_ph_end,
        sow_cf_start,
        sow_cf_in,
        sow_cf_dead,
        sow_cf_weed_out,
        sow_cf_sale,
        sow_cf_other_out,
        sow_cf_wean_out,
        sow_cf_chg_farm,
        sow_cf_end,
        boar_start,
        boar_in,
        boar_dead,
        boar_weed_out,
        boar_sale,
        boar_other_out,
        boar_chg_farm,
        boar_end,
        mate_hb,
        mate_dn,
        mate_fq,
        mate_lc,
        mate_yx,
        preg_positive,
        preg_negative,
        preg_fanqing,
        preg_liuchan,
        farrow_nest,
        farrow_all,
        farrow_live,
        farrow_health,
        farrow_weak,
        farrow_dead,
        farrow_jx,
        farrow_mny,
        farrow_black,
        farrow_sjmh,
        farrow_weight,
        farrow_avg_weight,
        wean_nest,
        wean_count,
        wean_avg_weight,
        wean_day_age,
        base_price_10,
        base_price_15,
        fatten_price,
        sow_ph_feed,
        sow_ph_feed_amount,
        sow_ph_medicine_amount,
        sow_ph_vaccination_amount,
        sow_ph_consumable_amount,
        sow_cf_feed,
        sow_cf_feed_amount,
        sow_cf_medicine_amount,
        sow_cf_vaccination_amount,
        sow_cf_consumable_amount,
        farrow_feed,
        farrow_feed_amount,
        farrow_medicine_amount,
        farrow_vaccination_amount,
        farrow_consumable_amount,
        nursery_feed,
        nursery_feed_amount,
        nursery_medicine_amount,
        nursery_vaccination_amount,
        nursery_consumable_amount,
        fatten_feed,
        fatten_feed_amount,
        fatten_medicine_amount,
        fatten_vaccination_amount,
        fatten_consumable_amount,
        houbei_feed,
        houbei_feed_amount,
        houbei_medicine_amount,
        houbei_vaccination_amount,
        houbei_consumable_amount,
        created_at,
        updated_at

    </sql>

    <sql id="vals">
        #{farmId},
        #{sumAt},
        #{sowPh},
        #{sowCf},
        #{sowStart},
        #{sowIn},
        #{sowDead},
        #{sowWeedOut},
        #{sowSale},
        #{sowOtherOut},
        #{sowChgFarm},
        #{sowEnd},
        #{sowPhStart},
        #{sowPhInFarmIn},
        #{sowPhWeanIn},
        #{sowPhDead},
        #{sowPhWeedOut},
        #{sowPhSale},
        #{sowPhOtherOut},
        #{sowPhToCf},
        #{sowPhChgFarm},
        #{sowPhEnd},
        #{sowCfStart},
        #{sowCfIn},
        #{sowCfDead},
        #{sowCfWeedOut},
        #{sowCfSale},
        #{sowCfOtherOut},
        #{sowCfWeanOut},
        #{sowCfChgFarm},
        #{sowCfEnd},
        #{boarStart},
        #{boarIn},
        #{boarDead},
        #{boarWeedOut},
        #{boarSale},
        #{boarOtherOut},
        #{boarChgFarm},
        #{boarEnd},
        #{mateHb},
        #{mateDn},
        #{mateFq},
        #{mateLc},
        #{mateYx},
        #{pregPositive},
        #{pregNegative},
        #{pregFanqing},
        #{pregLiuchan},
        #{farrowNest},
        #{farrowAll},
        #{farrowLive},
        #{farrowHealth},
        #{farrowWeak},
        #{farrowDead},
        #{farrowJx},
        #{farrowMny},
        #{farrowBlack},
        #{farrowSjmh},
        #{farrowWeight},
        #{farrowAvgWeight},
        #{weanNest},
        #{weanCount},
        #{weanAvgWeight},
        #{weanDayAge},
        #{basePrice10},
        #{basePrice15},
        #{fattenPrice},
        #{sowPhFeed},
        #{sowPhFeedAmount},
        #{sowPhMedicineAmount},
        #{sowPhVaccinationAmount},
        #{sowPhConsumableAmount},
        #{sowCfFeed},
        #{sowCfFeedAmount},
        #{sowCfMedicineAmount},
        #{sowCfVaccinationAmount},
        #{sowCfConsumableAmount},
        #{farrowFeed},
        #{farrowFeedAmount},
        #{farrowMedicineAmount},
        #{farrowVaccinationAmount},
        #{farrowConsumableAmount},
        #{nurseryFeed},
        #{nurseryFeedAmount},
        #{nurseryMedicineAmount},
        #{nurseryVaccinationAmount},
        #{nurseryConsumableAmount},
        #{fattenFeed},
        #{fattenFeedAmount},
        #{fattenMedicineAmount},
        #{fattenVaccinationAmount},
        #{fattenConsumableAmount},
        #{houbeiFeed},
        #{houbeiFeedAmount},
        #{houbeiMedicineAmount},
        #{houbeiVaccinationAmount},
        #{houbeiConsumableAmount},
        now(),
        now()

    </sql>

    <sql id="criteria">
        <if test="id != null">AND id = #{id}</if>
        <if test="farmId != null">AND farm_id = #{farmId}</if>
        <if test="sumAt != null">AND sum_at = #{sumAt}</if>
        <if test="sowPh != null">AND sow_ph = #{sowPh}</if>
        <if test="sowCf != null">AND sow_cf = #{sowCf}</if>
        <if test="sowStart != null">AND sow_start = #{sowStart}</if>
        <if test="sowIn != null">AND sow_in = #{sowIn}</if>
        <if test="sowDead != null">AND sow_dead = #{sowDead}</if>
        <if test="sowWeedOut != null">AND sow_weed_out = #{sowWeedOut}</if>
        <if test="sowSale != null">AND sow_sale = #{sowSale}</if>
        <if test="sowOtherOut != null">AND sow_other_out = #{sowOtherOut}</if>
        <if test="sowEnd != null">AND sow_end = #{sowEnd}</if>
        <if test="sowPhStart != null">AND sow_ph_start = #{sowPhStart}</if>
        <if test="sowPhInFarmIn != null">AND sow_ph_in_farm_in = #{sowPhInFarmIn}</if>
        <if test="sowPhWeanIn != null">AND sow_ph_wean_in = #{sowPhWeanIn}</if>
        <if test="sowPhDead != null">AND sow_ph_dead = #{sowPhDead}</if>
        <if test="sowPhWeedOut != null">AND sow_ph_weed_out = #{sowPhWeedOut}</if>
        <if test="sowPhToCf != null">AND sow_ph_to_cf = #{sowPhToCf}</if>
        <if test="sowPhEnd != null">AND sow_ph_end = #{sowPhEnd}</if>
        <if test="sowCfStart != null">AND sow_cf_start = #{sowCfStart}</if>
        <if test="sowCfIn != null">AND sow_cf_in = #{sowCfIn}</if>
        <if test="sowCfDead != null">AND sow_cf_dead = #{sowCfDead}</if>
        <if test="sowCfWeedOut != null">AND sow_cf_weed_out = #{sowCfWeedOut}</if>
        <if test="sowCfWeanOut != null">AND sow_cf_wean_out = #{sowCfWeanOut}</if>
        <if test="sowCfEnd != null">AND sow_cf_end = #{sowCfEnd}</if>
        <if test="boarStart != null">AND boar_start = #{boarStart}</if>
        <if test="boarIn != null">AND boar_in = #{boarIn}</if>
        <if test="boarDead != null">AND boar_dead = #{boarDead}</if>
        <if test="boarWeedOut != null">AND boar_weed_out = #{boarWeedOut}</if>
        <if test="boarSale != null">AND boar_sale = #{boarSale}</if>
        <if test="boarOtherOut != null">AND boar_other_out = #{boarOtherOut}</if>
        <if test="boarEnd != null">AND boar_end = #{boarEnd}</if>
        <if test="mateHb != null">AND mate_hb = #{mateHb}</if>
        <if test="mateDn != null">AND mate_dn = #{mateDn}</if>
        <if test="mateFq != null">AND mate_fq = #{mateFq}</if>
        <if test="mateLc != null">AND mate_lc = #{mateLc}</if>
        <if test="mateYx != null">AND mate_yx = #{mateYx}</if>
        <if test="pregPositive != null">AND preg_positive = #{pregPositive}</if>
        <if test="pregNegative != null">AND preg_negative = #{pregNegative}</if>
        <if test="pregFanqing != null">AND preg_fanqing = #{pregFanqing}</if>
        <if test="pregLiuchan != null">AND preg_liuchan = #{pregLiuchan}</if>
        <if test="farrowNest != null">AND farrow_nest = #{farrowNest}</if>
        <if test="farrowAll != null">AND farrow_all = #{farrowAll}</if>
        <if test="farrowLive != null">AND farrow_live = #{farrowLive}</if>
        <if test="farrowHealth != null">AND farrow_health = #{farrowHealth}</if>
        <if test="farrowWeak != null">AND farrow_weak = #{farrowWeak}</if>
        <if test="farrowDead != null">AND farrow_dead = #{farrowDead}</if>
        <if test="farrowJx != null">AND farrow_jx = #{farrowJx}</if>
        <if test="farrowMny != null">AND farrow_mny = #{farrowMny}</if>
        <if test="farrowBlack != null">AND farrow_black = #{farrowBlack}</if>
        <if test="farrowSjmh != null">AND farrow_sjmh = #{farrowSjmh}</if>
        <if test="farrowWeight != null">AND farrow_weight = #{farrowWeight}</if>
        <if test="farrowAvgWeight != null">AND farrow_avg_weight = #{farrowAvgWeight}</if>
        <if test="weanNest != null">AND wean_nest = #{weanNest}</if>
        <if test="weanCount != null">AND wean_count = #{weanCount}</if>
        <if test="weanAvgWeight != null">AND wean_avg_weight = #{weanAvgWeight}</if>
        <if test="weanDayAge != null">AND wean_day_age = #{weanDayAge}</if>
        <if test="basePrice10 != null">AND base_price_10 = #{basePrice10}</if>
        <if test="basePrice15 != null">AND base_price_15 = #{basePrice15}</if>
        <if test="fattenPrice != null">AND fatten_price = #{fattenPrice}</if>
        <if test="sowPhFeed != null">AND sow_ph_feed = #{sowPhFeed}</if>
        <if test="sowPhFeedAmount != null">AND sow_ph_feed_amount = #{sowPhFeedAmount}</if>
        <if test="sowPhMedicineAmount != null">AND sow_ph_medicine_amount = #{sowPhMedicineAmount}</if>
        <if test="sowPhVaccinationAmount != null">AND sow_ph_vaccination_amount = #{sowPhVaccinationAmount}</if>
        <if test="sowPhConsumableAmount != null">AND sow_ph_consumable_amount = #{sowPhConsumableAmount}</if>
        <if test="sowCfFeed != null">AND sow_cf_feed = #{sowCfFeed}</if>
        <if test="sowCfFeedAmount != null">AND sow_cf_feed_amount = #{sowCfFeedAmount}</if>
        <if test="sowCfMedicineAmount != null">AND sow_cf_medicine_amount = #{sowCfMedicineAmount}</if>
        <if test="sowCfVaccinationAmount != null">AND sow_cf_vaccination_amount = #{sowCfVaccinationAmount}</if>
        <if test="sowCfConsumableAmount != null">AND sow_cf_consumable_amount = #{sowCfConsumableAmount}</if>
        <if test="farrowFeed != null">AND farrow_feed = #{farrowFeed}</if>
        <if test="farrowFeedAmount != null">AND farrow_feed_amount = #{farrowFeedAmount}</if>
        <if test="farrowMedicineAmount != null">AND farrow_medicine_amount = #{farrowMedicineAmount}</if>
        <if test="farrowVaccinationAmount != null">AND farrow_vaccination_amount = #{farrowVaccinationAmount}</if>
        <if test="farrowConsumableAmount != null">AND farrow_consumable_amount = #{farrowConsumableAmount}</if>
        <if test="nurseryFeed != null">AND nursery_feed = #{nurseryFeed}</if>
        <if test="nurseryFeedAmount != null">AND nursery_feed_amount = #{nurseryFeedAmount}</if>
        <if test="nurseryMedicineAmount != null">AND nursery_medicine_amount = #{nurseryMedicineAmount}</if>
        <if test="nurseryVaccinationAmount != null">AND nursery_vaccination_amount = #{nurseryVaccinationAmount}</if>
        <if test="nurseryConsumableAmount != null">AND nursery_consumable_amount = #{nurseryConsumableAmount}</if>
        <if test="fattenFeed != null">AND fatten_feed = #{fattenFeed}</if>
        <if test="fattenFeedAmount != null">AND fatten_feed_amount = #{fattenFeedAmount}</if>
        <if test="fattenMedicineAmount != null">AND fatten_medicine_amount = #{fattenMedicineAmount}</if>
        <if test="fattenVaccinationAmount != null">AND fatten_vaccination_amount = #{fattenVaccinationAmount}</if>
        <if test="fattenConsumableAmount != null">AND fatten_consumable_amount = #{fattenConsumableAmount}</if>
        <if test="houbeiFeed != null">AND houbei_feed = #{houbeiFeed}</if>
        <if test="houbeiFeedAmount != null">AND houbei_feed_amount = #{houbeiFeedAmount}</if>
        <if test="houbeiMedicineAmount != null">AND houbei_medicine_amount = #{houbeiMedicineAmount}</if>
        <if test="houbeiVaccinationAmount != null">AND houbei_vaccination_amount = #{houbeiVaccinationAmount}</if>
        <if test="houbeiConsumableAmount != null">AND houbei_consumable_amount = #{houbeiConsumableAmount}</if>



    </sql>

    <insert id="create" parameterType="DoctorDailyReport" keyProperty="id" useGeneratedKeys="true">
        INSERT INTO <include refid="tb" />
        (<include refid="cols_exclude_id" />)
        VALUES
        (<include refid="vals" />)
    </insert>

    <select id="findById" parameterType="long" resultMap="DoctorDailyReportMap" >
        SELECT <include refid="cols_all" /> FROM <include refid="tb" />
        WHERE id = #{id}
    </select>

    <update id="update" parameterType="DoctorDailyReport">
        UPDATE <include refid="tb"/>
        <set>
            <if test="farmId != null">farm_id = #{farmId},</if>
            <if test="sumAt != null">sum_at = #{sumAt},</if>
            <if test="sowPh != null">sow_ph = #{sowPh},</if>
            <if test="sowCf != null">sow_cf = #{sowCf},</if>
            <if test="sowStart != null">sow_start = #{sowStart},</if>
            <if test="sowIn != null">sow_in = #{sowIn},</if>
            <if test="sowDead != null">sow_dead = #{sowDead},</if>
            <if test="sowWeedOut != null">sow_weed_out = #{sowWeedOut},</if>
            <if test="sowSale != null">sow_sale = #{sowSale},</if>
            <if test="sowOtherOut != null">sow_other_out = #{sowOtherOut},</if>
            <if test="sowChgFarm != null">sow_chg_farm = #{sowChgFarm},</if>
            <if test="sowEnd != null">sow_end = #{sowEnd},</if>
            <if test="sowPhStart != null">sow_ph_start = #{sowPhStart},</if>
            <if test="sowPhInFarmIn != null">sow_ph_in_farm_in = #{sowPhInFarmIn},</if>
            <if test="sowPhWeanIn != null">sow_ph_wean_in = #{sowPhWeanIn},</if>
            <if test="sowPhDead != null">sow_ph_dead = #{sowPhDead},</if>
            <if test="sowPhWeedOut != null">sow_ph_weed_out = #{sowPhWeedOut},</if>
            <if test="sowPhSale != null">sow_ph_sale = #{sowPhSale},</if>
            <if test="sowPhOtherOut != null">sow_ph_other_out = #{sowPhOtherOut},</if>
            <if test="sowPhToCf != null">sow_ph_to_cf = #{sowPhToCf},</if>
            <if test="sowPhChgFarm != null">sow_ph_chg_farm = #{sowPhChgFarm},</if>
            <if test="sowPhEnd != null">sow_ph_end = #{sowPhEnd},</if>
            <if test="sowCfStart != null">sow_cf_start = #{sowCfStart},</if>
            <if test="sowCfIn != null">sow_cf_in = #{sowCfIn},</if>
            <if test="sowCfDead != null">sow_cf_dead = #{sowCfDead},</if>
            <if test="sowCfWeedOut != null">sow_cf_weed_out = #{sowCfWeedOut},</if>
            <if test="sowCfSale != null">sow_cf_sale = #{sowCfSale},</if>
            <if test="sowCfOtherOut != null">sow_cf_weed_out = #{sowCfOtherOut},</if>
            <if test="sowCfWeanOut != null">sow_cf_wean_out = #{sowCfWeanOut},</if>
            <if test="sowCfChgFarm != null">sow_cf_chg_farm = #{sowCfChgFarm},</if>
            <if test="sowCfEnd != null">sow_cf_end = #{sowCfEnd},</if>
            <if test="boarStart != null">boar_start = #{boarStart},</if>
            <if test="boarIn != null">boar_in = #{boarIn},</if>
            <if test="boarDead != null">boar_dead = #{boarDead},</if>
            <if test="boarWeedOut != null">boar_weed_out = #{boarWeedOut},</if>
            <if test="boarSale != null">boar_sale = #{boarSale},</if>
            <if test="boarOtherOut != null">boar_other_out = #{boarOtherOut},</if>
            <if test="boarChgFarm != null">boar_chg_farm = #{boarChgFarm},</if>
            <if test="boarEnd != null">boar_end = #{boarEnd},</if>
            <if test="mateHb != null">mate_hb = #{mateHb},</if>
            <if test="mateDn != null">mate_dn = #{mateDn},</if>
            <if test="mateFq != null">mate_fq = #{mateFq},</if>
            <if test="mateLc != null">mate_lc = #{mateLc},</if>
            <if test="mateYx != null">mate_yx = #{mateYx},</if>
            <if test="pregPositive != null">preg_positive = #{pregPositive},</if>
            <if test="pregNegative != null">preg_negative = #{pregNegative},</if>
            <if test="pregFanqing != null">preg_fanqing = #{pregFanqing},</if>
            <if test="pregLiuchan != null">preg_liuchan = #{pregLiuchan},</if>
            <if test="farrowNest != null">farrow_nest = #{farrowNest},</if>
            <if test="farrowAll != null">farrow_all = #{farrowAll},</if>
            <if test="farrowLive != null">farrow_live = #{farrowLive},</if>
            <if test="farrowHealth != null">farrow_health = #{farrowHealth},</if>
            <if test="farrowWeak != null">farrow_weak = #{farrowWeak},</if>
            <if test="farrowDead != null">farrow_dead = #{farrowDead},</if>
            <if test="farrowJx != null">farrow_jx = #{farrowJx},</if>
            <if test="farrowMny != null">farrow_mny = #{farrowMny},</if>
            <if test="farrowBlack != null">farrow_black = #{farrowBlack},</if>
            <if test="farrowSjmh != null">farrow_sjmh = #{farrowSjmh},</if>
            <if test="farrowWeight != null">farrow_weight = #{farrowWeight},</if>
            <if test="farrowAvgWeight != null">farrow_avg_weight = #{farrowAvgWeight},</if>
            <if test="weanNest != null">wean_nest = #{weanNest},</if>
            <if test="weanCount != null">wean_count = #{weanCount},</if>
            <if test="weanAvgWeight != null">wean_avg_weight = #{weanAvgWeight},</if>
            <if test="weanDayAge != null">wean_day_age = #{weanDayAge},</if>
            <if test="basePrice10 != null">base_price_10 = #{basePrice10},</if>
            <if test="basePrice15 != null">base_price_15 = #{basePrice15},</if>
            <if test="fattenPrice != null">fatten_price = #{fattenPrice},</if>
            <if test="sowPhFeed != null">sow_ph_feed = #{sowPhFeed},</if>
            <if test="sowPhFeedAmount != null">sow_ph_feed_amount = #{sowPhFeedAmount},</if>
            <if test="sowPhMedicineAmount != null">sow_ph_medicine_amount = #{sowPhMedicineAmount},</if>
            <if test="sowPhVaccinationAmount != null">sow_ph_vaccination_amount = #{sowPhVaccinationAmount},</if>
            <if test="sowPhConsumableAmount != null">sow_ph_consumable_amount = #{sowPhConsumableAmount},</if>
            <if test="sowCfFeed != null">sow_cf_feed = #{sowCfFeed},</if>
            <if test="sowCfFeedAmount != null">sow_cf_feed_amount = #{sowCfFeedAmount},</if>
            <if test="sowCfMedicineAmount != null">sow_cf_medicine_amount = #{sowCfMedicineAmount},</if>
            <if test="sowCfVaccinationAmount != null">sow_cf_vaccination_amount = #{sowCfVaccinationAmount},</if>
            <if test="sowCfConsumableAmount != null">sow_cf_consumable_amount = #{sowCfConsumableAmount},</if>
            <if test="farrowFeed != null">farrow_feed = #{farrowFeed},</if>
            <if test="farrowFeedAmount != null">farrow_feed_amount = #{farrowFeedAmount},</if>
            <if test="farrowMedicineAmount != null">farrow_medicine_amount = #{farrowMedicineAmount},</if>
            <if test="farrowVaccinationAmount != null">farrow_vaccination_amount = #{farrowVaccinationAmount},</if>
            <if test="farrowConsumableAmount != null">farrow_consumable_amount = #{farrowConsumableAmount},</if>
            <if test="nurseryFeed != null">nursery_feed = #{nurseryFeed},</if>
            <if test="nurseryFeedAmount != null">nursery_feed_amount = #{nurseryFeedAmount},</if>
            <if test="nurseryMedicineAmount != null">nursery_medicine_amount = #{nurseryMedicineAmount},</if>
            <if test="nurseryVaccinationAmount != null">nursery_vaccination_amount = #{nurseryVaccinationAmount},</if>
            <if test="nurseryConsumableAmount != null">nursery_consumable_amount = #{nurseryConsumableAmount},</if>
            <if test="fattenFeed != null">fatten_feed = #{fattenFeed},</if>
            <if test="fattenFeedAmount != null">fatten_feed_amount = #{fattenFeedAmount},</if>
            <if test="fattenMedicineAmount != null">fatten_medicine_amount = #{fattenMedicineAmount},</if>
            <if test="fattenVaccinationAmount != null">fatten_vaccination_amount = #{fattenVaccinationAmount},</if>
            <if test="fattenConsumableAmount != null">fatten_consumable_amount = #{fattenConsumableAmount},</if>
            <if test="houbeiFeed != null">houbei_feed = #{houbeiFeed},</if>
            <if test="houbeiFeedAmount != null">houbei_feed_amount = #{houbeiFeedAmount},</if>
            <if test="houbeiMedicineAmount != null">houbei_medicine_amount = #{houbeiMedicineAmount},</if>
            <if test="houbeiVaccinationAmount != null">houbei_vaccination_amount = #{houbeiVaccinationAmount},</if>
            <if test="houbeiConsumableAmount != null">houbei_consumable_amount = #{houbeiConsumableAmount},</if>



            updated_at=now()
        </set>
        WHERE id = #{id}
    </update>

    <delete id="delete" parameterType="long">
        DELETE FROM <include refid="tb"/>
        WHERE id = #{id}
    </delete>

    <select id="list" parameterType="map" resultMap="DoctorDailyReportMap">
        SELECT <include refid="cols_all"/> FROM <include refid="tb"/>
        <where>
            <include refid="criteria"/>
        </where>
    </select>

    <select id="count" parameterType="map" resultType="long">
        SELECT count(1) FROM <include refid="tb"/>
        <where>
            <include refid="criteria"/>
        </where>
    </select>

    <select id="paging" parameterType="map" resultMap="DoctorDailyReportMap">
        SELECT <include refid="cols_all"/> FROM <include refid="tb"/>
        <where>
            <include refid="criteria"/>
        </where>
        LIMIT #{offset}, #{limit}
    </select>

    <select id="findByFarmIdAndSumAt" parameterType="map" resultMap="DoctorDailyReportMap">
        SELECT <include refid="cols_all"/> FROM <include refid="tb"/>
        WHERE farm_id = #{farmId}
          AND sum_at = #{sumAt}
    </select>

    <delete id="deleteByFarmIdAndSumAt" parameterType="map">
        DELETE FROM <include refid="tb"/>
        WHERE farm_id = #{farmId}
          AND sum_at = #{sumAt}
    </delete>

    <select id="findBySumAt" parameterType="map" resultMap="DoctorDailyReportMap">
        SELECT <include refid="cols_all"/> FROM <include refid="tb"/>
        WHERE sum_at = #{sumAt}
    </select>

    <select id="findDailyReportSum" parameterType="map" resultType="io.terminus.doctor.event.model.DoctorDailyReportSum">
        select
            sum(mate_hb+mate_dn+mate_fq+mate_lc+mate_yx) as preFarrowCount,
            sum(farrow_live)/sum(farrow_nest) as farrowAvgLive,
            sum(farrow_health)/sum(farrow_nest) as farrowAvgHealth,
            sum(farrow_weak)/sum(farrow_nest) as farrowAvgWeak,
            sum(wean_count)/sum(wean_nest) as avgWeanCount,
            sum(case when sum_at = #{startAt} then sow_start else 0 end) as sowStart,
            sum(sow_in) as sowIn,
            sum(sow_dead) as sowDead,
            sum(sow_weed_out) as sowWeedOut,
            sum(sow_sale) as sowSale,
            sum(sow_other_out) as sowOtherOut,
            sum(sow_chg_farm) as sowChgFarm,
            sum(case when sum_at = #{endAt} then sow_end else 0 end) as sowEnd,

            sum(case when sum_at = #{startAt} then sow_ph_start else 0 end) as sowPhStart,
            sum(sow_ph_in_farm_in) as sowPhInFarmIn,
            sum(sow_ph_wean_in) as sowPhWeanIn,
            sum(sow_ph_dead) as sowPhDead,
            sum(sow_ph_weed_out) as sowPhWeedOut,
            sum(sow_ph_sale) as sowPhSale,
            sum(sow_ph_other_out) as sowPhOtherOut,
            sum(sow_ph_to_cf) as sowPhToCf,
            sum(sow_ph_chg_farm) as sowPhChgFarm,
            sum(case when sum_at = #{endAt} then sow_ph_end else 0 end) as sowPhEnd,

            sum(case when sum_at = #{startAt} then sow_cf_start else 0 end) as sowCfStart,
            sum(sow_cf_in) as sowCfIn,
            sum(sow_cf_dead) as sowCfDead,
            sum(sow_cf_weed_out) as sowCfWeedOut,
            sum(sow_cf_sale) as sowCfSale,
            sum(sow_cf_other_out) as sowCfOtherOut,
            sum(sow_cf_wean_out) as sowCfWeanOut,
            sum(sow_cf_chg_farm) as sowCfChgFarm,
            sum(case when sum_at = #{endAt} then sow_cf_end else 0 end) as sowCfEnd,

            sum(case when sum_at = #{startAt} then boar_start else 0 end) as boarStart,
            sum(boar_in) as boarIn,
            sum(boar_dead) as boarDead,
            sum(boar_weed_out) as boarWeedOut,
            sum(boar_sale) as boarSale,
            sum(boar_other_out) as boarOtherOut,
            sum(boar_chg_farm) as boarChgFarm,
            sum(case when sum_at = #{endAt} then boar_end else 0 end) as boarEnd,
            sum(mate_hb) as mateHb,
            sum(mate_dn) as mateDn,
            sum(mate_fq) as mateFq,
            sum(mate_lc) as mateLc,
            sum(mate_yx) as mateYx,

            sum(preg_positive) as pregPositive,
            sum(preg_negative) as pregNegative,
            sum(preg_fanqing) as pregFanqing,
            sum(preg_liuchan) as pregLiuchan,

            sum(farrow_nest) as farrowNest,
            sum(farrow_all) as farrowAll,
            sum(farrow_live) as farrowLive,
            sum(farrow_health) as farrowHealth,
            sum(farrow_weak) as farrowWeak,
            sum(farrow_dead) as farrowDead,
            sum(farrow_jx) as farrowJx,
            sum(farrow_mny) as farrowMny,
            sum(farrow_black) as farrowBlack,
            sum(farrow_sjmh) as farrowSjmh,
            sum(farrow_weight) as farrowWeight,
            sum(farrow_weight)/sum(farrow_live) as farrowAvgWeight,
            sum(wean_nest) as weanNest,
            sum(wean_count) as weanCount,
            sum(wean_count*wean_avg_weight)/sum(wean_count) as weanAvgWeight,
            sum(wean_count*wean_day_age)/sum(wean_count) as weanDage,

            sum(sow_ph_feed) as sowPhFeed,
            sum(sow_ph_feed_amount) as sowPhFeedAmount,
            sum(sow_ph_medicine_amount) as sowPhMedicineAmount,
            sum(sow_ph_vaccination_amount) as sowPhVaccinationAmount,
            sum(sow_ph_consumable_amount) as sowPhConsumableAmount,

            sum(sow_cf_feed) as sowCfFeed,
            sum(sow_cf_feed_amount) as sowCfFeedAmount,
            sum(sow_cf_medicine_amount) as sowCfMedicineAmount,
            sum(sow_cf_vaccination_amount) as sowCfVaccinationAmount,
            sum(sow_cf_consumable_amount) as sowCfConsumableAmount,

            sum(farrow_feed) as farrowFeed,
            sum(farrow_feed_amount) as farrowFeedAmount,
            sum(farrow_medicine_amount) as farrowMedicineAmount,
            sum(farrow_vaccination_amount) as farrowVaccinationAmount,
            sum(farrow_consumable_amount) as farrowConsumableAmount,

            sum(nursery_feed) as farrowFeed,
            sum(nursery_feed_amount) as farrowFeedAmount,
            sum(nursery_medicine_amount) as farrowMedicineAmount,
            sum(nursery_vaccination_amount) as farrowVaccinationAmount,
            sum(nursery_consumable_amount) as farrowConsumableAmount,

            sum(fatten_feed) as farrowFeed,
            sum(fatten_feed_amount) as farrowFeedAmount,
            sum(fatten_medicine_amount) as farrowMedicineAmount,
            sum(fatten_vaccination_amount) as farrowVaccinationAmount,
            sum(fatten_consumable_amount) as farrowConsumableAmount,

            sum(houbei_feed) as farrowFeed,
            sum(houbei_feed_amount) as farrowFeedAmount,
            sum(houbei_medicine_amount) as farrowMedicineAmount,
            sum(houbei_vaccination_amount) as farrowVaccinationAmount,
            sum(houbei_consumable_amount) as farrowConsumableAmount

        from doctor_daily_reports
        where farm_id = #{farmId}
          and sum_at &gt;= #{startAt}
          and sum_at &lt;= #{endAt};

    </select>

    <update id="updateDailySowPigLiveStock" parameterType="map" >
        UPDATE <include refid="tb"/>
        SET sow_start = ifnull(sow_start, 0) + ifnull(#{liveChangeCount}, 0),
        `sow_end` = ifnull(sow_end, 0) + ifnull(#{liveChangeCount}, 0),
        sow_ph_start = ifnull(sow_ph_start, 0) + ifnull(#{phChangeCount}, 0),
        sow_ph_end = ifnull(sow_ph_end, 0) + ifnull(#{phChangeCount}, 0),
        sow_ph = ifnull(sow_ph, 0) + ifnull(#{phChangeCount}, 0),
        sow_cf_start = ifnull(sow_cf_start, 0) + ifnull(#{cfChangeCount}, 0),
        sow_cf_end = ifnull(sow_cf_end, 0) + ifnull(#{cfChangeCount}, 0),
        sow_cf = ifnull(sow_cf, 0) + ifnull(#{cfChangeCount}, 0)
        WHERE
        farm_id = #{farmId}
        AND sum_at &gt;= date_format(#{sumAt}, '%Y-%m-%d')
    </update>

    <update id="updateDailyBoarPigLiveStock" parameterType="map" >
        UPDATE <include refid="tb"/>
        SET boar_start = boar_start + #{changeCount},
        `boar_end` = `boar_end` + #{changeCount}
        WHERE
        farm_id = #{farmId}
        AND sum_at &gt;= date_format(#{sumAt}, '%Y-%m-%d')
    </update>

    <select id="findByRange" parameterType="map" resultMap="DoctorDailyReportMap">
        SELECT <include refid="cols_all"/> FROM <include refid="tb"/>
        WHERE farm_id = #{farmId}
          AND sum_at &gt;= #{startAt}
          AND sum_at &lt;= #{endAt}
    </select>

</mapper>