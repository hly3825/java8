<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
 ~ Desc:
 ~ Mail: [ your email ]
 ~ Date: 2017-12-12 17:33:52
 ~ Created by [ your name ]
-->

<mapper namespace="DoctorPigDaily">
    <resultMap id="DoctorPigDailyMap" type="DoctorPigDaily">
        <id property="id" column="id"/>
        <result property="sumAt" column="sum_at"/>
        <result property="farmId" column="farm_id"/>
        <result property="sowStart" column="sow_start"/>
        <result property="sowDead" column="sow_dead"/>
        <result property="sowWeedOut" column="sow_weed_out"/>
        <result property="basicSowDeadAndWeedOutRate" column="basic_sow_dead_and_weed_out_rate"/>
        <result property="sowSale" column="sow_sale"/>
        <result property="sowChgFarm" column="sow_chg_farm"/>
        <result property="sowOtherOut" column="sow_other_out"/>
        <result property="sowPhReserveIn" column="sow_ph_reserve_in"/>
        <result property="sowOtherIn" column="sow_other_in"/>
        <result property="sowDailyQuantity" column="sow_daily_quantity"/>
        <result property="sowEnd" column="sow_end"/>
        <result property="sowCfStart" column="sow_cf_start"/>
        <result property="sowCfEnd" column="sow_cf_end"/>
        <result property="sowCfIn" column="sow_cf_in"/>
        <result property="sowCfInFarmIn" column="sow_cf_in_farm_in"/>
        <result property="sowCfDead" column="sow_cf_dead"/>
        <result property="sowCfWeedOut" column="sow_cf_weed_out"/>
        <result property="sowCfSale" column="sow_cf_sale"/>
        <result property="sowCfChgFarm" column="sow_cf_chg_farm"/>
        <result property="sowCfOtherOut" column="sow_cf_other_out"/>
        <result property="earlyMating" column="early_mating"/>
        <result property="earlyFarrowNest" column="early_farrow_nest"/>
        <result property="earlyFarrowRate" column="early_farrow_rate"/>
        <result property="lateFarrowNest" column="late_farrow_nest"/>
        <result property="lateFarrowRate" column="late_farrow_rate"/>
        <result property="farrowNest" column="farrow_nest"/>
        <result property="farrowAll" column="farrow_all"/>
        <result property="farrowLive" column="farrow_live"/>
        <result property="farrowHealth" column="farrow_health"/>
        <result property="farrowWeak" column="farrow_weak"/>
        <result property="farrowDead" column="farrow_dead"/>
        <result property="farrowSjmh" column="farrow_sjmh"/>
        <result property="avgFarrow" column="avg_farrow"/>
        <result property="avgFarrowLive" column="avg_farrow_live"/>
        <result property="avgFarrowHealth" column="avg_farrow_health"/>
        <result property="avgFarrowWeak" column="avg_farrow_weak"/>
        <result property="weight" column="weight"/>
        <result property="avgWeight" column="avg_weight"/>
        <result property="firstWeight" column="first_weight"/>
        <result property="boarStart" column="boar_start"/>
        <result property="boarIn" column="boar_in"/>
        <result property="boarDead" column="boar_dead"/>
        <result property="boarWeedOut" column="boar_weed_out"/>
        <result property="boarSale" column="boar_sale"/>
        <result property="boarOtherOut" column="boar_other_out"/>
        <result property="boarEnd" column="boar_end"/>
        <result property="version" column="version"/>
        <result property="createdAt" column="created_at"/>
        <result property="updatedAt" column="updated_at"/>
    </resultMap>

    <sql id="tb">
        doctor_pig_daily
    </sql>

    <sql id="cols_all">
        id,
        <include refid="cols_exclude_id"/>
    </sql>

    <sql id="cols_exclude_id">
        `sum_at`, `farm_id`, `sow_start`, `sow_dead`, `sow_weed_out`, `basic_sow_dead_and_weed_out_rate`, `sow_sale`, `sow_chg_farm`, `sow_other_out`, `sow_ph_reserve_in`, `sow_other_in`, `sow_daily_quantity`, `sow_end`, `sow_cf_start`, `sow_cf_end`, `sow_cf_in`, `sow_cf_in_farm_in`, `sow_cf_dead`, `sow_cf_weed_out`, `sow_cf_sale`, `sow_cf_chg_farm`, `sow_cf_other_out`, `early_mating`, `early_farrow_nest`, `early_farrow_rate`, `late_farrow_nest`, `late_farrow_rate`, `farrow_nest`, `farrow_all`, `farrow_live`, `farrow_health`, `farrow_weak`, `farrow_dead`, `farrow_sjmh`, `avg_farrow`, `avg_farrow_live`, `avg_farrow_health`, `avg_farrow_weak`, `weight`, `avg_weight`, `first_weight`, `boar_start`, `boar_in`, `boar_dead`, `boar_weed_out`, `boar_sale`, `boar_other_out`, `boar_end`, `version`, 
        created_at, updated_at
    </sql>

    <sql id="vals">
        #{sumAt}, #{farmId}, #{sowStart}, #{sowDead}, #{sowWeedOut}, #{basicSowDeadAndWeedOutRate}, #{sowSale}, #{sowChgFarm}, #{sowOtherOut}, #{sowPhReserveIn}, #{sowOtherIn}, #{sowDailyQuantity}, #{sowEnd}, #{sowCfStart}, #{sowCfEnd}, #{sowCfIn}, #{sowCfInFarmIn}, #{sowCfDead}, #{sowCfWeedOut}, #{sowCfSale}, #{sowCfChgFarm}, #{sowCfOtherOut}, #{earlyMating}, #{earlyFarrowNest}, #{earlyFarrowRate}, #{lateFarrowNest}, #{lateFarrowRate}, #{farrowNest}, #{farrowAll}, #{farrowLive}, #{farrowHealth}, #{farrowWeak}, #{farrowDead}, #{farrowSjmh}, #{avgFarrow}, #{avgFarrowLive}, #{avgFarrowHealth}, #{avgFarrowWeak}, #{weight}, #{avgWeight}, #{firstWeight}, #{boarStart}, #{boarIn}, #{boarDead}, #{boarWeedOut}, #{boarSale}, #{boarOtherOut}, #{boarEnd}, #{version}, 
        now(), now()
    </sql>

    <sql id="criteria">
        <where>
            <if test="sumAt != null">AND `sum_at` = #{sumAt}</if>
            <if test="farmId != null">AND `farm_id` = #{farmId}</if>
            <if test="sowStart != null">AND `sow_start` = #{sowStart}</if>
            <if test="sowDead != null">AND `sow_dead` = #{sowDead}</if>
            <if test="sowWeedOut != null">AND `sow_weed_out` = #{sowWeedOut}</if>
            <if test="basicSowDeadAndWeedOutRate != null">AND `basic_sow_dead_and_weed_out_rate` = #{basicSowDeadAndWeedOutRate}</if>
            <if test="sowSale != null">AND `sow_sale` = #{sowSale}</if>
            <if test="sowChgFarm != null">AND `sow_chg_farm` = #{sowChgFarm}</if>
            <if test="sowOtherOut != null">AND `sow_other_out` = #{sowOtherOut}</if>
            <if test="sowPhReserveIn != null">AND `sow_ph_reserve_in` = #{sowPhReserveIn}</if>
            <if test="sowOtherIn != null">AND `sow_other_in` = #{sowOtherIn}</if>
            <if test="sowDailyQuantity != null">AND `sow_daily_quantity` = #{sowDailyQuantity}</if>
            <if test="sowEnd != null">AND `sow_end` = #{sowEnd}</if>
            <if test="sowCfStart != null">AND `sow_cf_start` = #{sowCfStart}</if>
            <if test="sowCfEnd != null">AND `sow_cf_end` = #{sowCfEnd}</if>
            <if test="sowCfIn != null">AND `sow_cf_in` = #{sowCfIn}</if>
            <if test="sowCfInFarmIn != null">AND `sow_cf_in_farm_in` = #{sowCfInFarmIn}</if>
            <if test="sowCfDead != null">AND `sow_cf_dead` = #{sowCfDead}</if>
            <if test="sowCfWeedOut != null">AND `sow_cf_weed_out` = #{sowCfWeedOut}</if>
            <if test="sowCfSale != null">AND `sow_cf_sale` = #{sowCfSale}</if>
            <if test="sowCfChgFarm != null">AND `sow_cf_chg_farm` = #{sowCfChgFarm}</if>
            <if test="sowCfOtherOut != null">AND `sow_cf_other_out` = #{sowCfOtherOut}</if>
            <if test="earlyMating != null">AND `early_mating` = #{earlyMating}</if>
            <if test="earlyFarrowNest != null">AND `early_farrow_nest` = #{earlyFarrowNest}</if>
            <if test="earlyFarrowRate != null">AND `early_farrow_rate` = #{earlyFarrowRate}</if>
            <if test="lateFarrowNest != null">AND `late_farrow_nest` = #{lateFarrowNest}</if>
            <if test="lateFarrowRate != null">AND `late_farrow_rate` = #{lateFarrowRate}</if>
            <if test="farrowNest != null">AND `farrow_nest` = #{farrowNest}</if>
            <if test="farrowAll != null">AND `farrow_all` = #{farrowAll}</if>
            <if test="farrowLive != null">AND `farrow_live` = #{farrowLive}</if>
            <if test="farrowHealth != null">AND `farrow_health` = #{farrowHealth}</if>
            <if test="farrowWeak != null">AND `farrow_weak` = #{farrowWeak}</if>
            <if test="farrowDead != null">AND `farrow_dead` = #{farrowDead}</if>
            <if test="farrowSjmh != null">AND `farrow_sjmh` = #{farrowSjmh}</if>
            <if test="avgFarrow != null">AND `avg_farrow` = #{avgFarrow}</if>
            <if test="avgFarrowLive != null">AND `avg_farrow_live` = #{avgFarrowLive}</if>
            <if test="avgFarrowHealth != null">AND `avg_farrow_health` = #{avgFarrowHealth}</if>
            <if test="avgFarrowWeak != null">AND `avg_farrow_weak` = #{avgFarrowWeak}</if>
            <if test="weight != null">AND `weight` = #{weight}</if>
            <if test="avgWeight != null">AND `avg_weight` = #{avgWeight}</if>
            <if test="firstWeight != null">AND `first_weight` = #{firstWeight}</if>
            <if test="boarStart != null">AND `boar_start` = #{boarStart}</if>
            <if test="boarIn != null">AND `boar_in` = #{boarIn}</if>
            <if test="boarDead != null">AND `boar_dead` = #{boarDead}</if>
            <if test="boarWeedOut != null">AND `boar_weed_out` = #{boarWeedOut}</if>
            <if test="boarSale != null">AND `boar_sale` = #{boarSale}</if>
            <if test="boarOtherOut != null">AND `boar_other_out` = #{boarOtherOut}</if>
            <if test="boarEnd != null">AND `boar_end` = #{boarEnd}</if>
            <if test="version != null">AND `version` = #{version}</if>
            <if test="createdAt != null">AND <![CDATA[created_at >= #{createdAt}]]> </if>
            <if test="updatedAt != null">AND <![CDATA[updated_at < #{updatedAt}]]> </if>
            <if test="farmIds != null and farmIds.size() > 0">
                AND
                <foreach collection="farmIds" item="id" open="(" separator="or" close=")">
                    farm_id =#{id}
                </foreach>
            </if>
        </where>
    </sql>

    <insert id="create" parameterType="DoctorPigDaily" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO
        <include refid="tb"/>
        (<include refid="cols_exclude_id"/>)
        VALUES
        (<include refid="vals"/>)
    </insert>

    <select id="findById" parameterType="long" resultMap="DoctorPigDailyMap">
        SELECT
        <include refid="cols_all"/>
        FROM
        <include refid="tb"/>
        WHERE id = #{id} LIMIT 1
    </select>

    <select id="findByIds" parameterType="list" resultMap="DoctorPigDailyMap">
        SELECT
        <include refid="cols_all"/>
        FROM
        <include refid="tb"/>
        WHERE id IN
        <foreach item="id" collection="list" open="(" separator="," close=")">
            #{id}
        </foreach>
    </select>

    <update id="update" parameterType="DoctorPigDaily">
        UPDATE
        <include refid="tb"/>
        <set>
            <if test="sumAt != null">`sum_at` = #{sumAt},</if>
            <if test="farmId != null">`farm_id` = #{farmId},</if>
            <if test="sowStart != null">`sow_start` = #{sowStart},</if>
            <if test="sowDead != null">`sow_dead` = #{sowDead},</if>
            <if test="sowWeedOut != null">`sow_weed_out` = #{sowWeedOut},</if>
            <if test="basicSowDeadAndWeedOutRate != null">`basic_sow_dead_and_weed_out_rate` = #{basicSowDeadAndWeedOutRate},</if>
            <if test="sowSale != null">`sow_sale` = #{sowSale},</if>
            <if test="sowChgFarm != null">`sow_chg_farm` = #{sowChgFarm},</if>
            <if test="sowOtherOut != null">`sow_other_out` = #{sowOtherOut},</if>
            <if test="sowPhReserveIn != null">`sow_ph_reserve_in` = #{sowPhReserveIn},</if>
            <if test="sowOtherIn != null">`sow_other_in` = #{sowOtherIn},</if>
            <if test="sowDailyQuantity != null">`sow_daily_quantity` = #{sowDailyQuantity},</if>
            <if test="sowEnd != null">`sow_end` = #{sowEnd},</if>
            <if test="sowCfStart != null">`sow_cf_start` = #{sowCfStart},</if>
            <if test="sowCfEnd != null">`sow_cf_end` = #{sowCfEnd},</if>
            <if test="sowCfIn != null">`sow_cf_in` = #{sowCfIn},</if>
            <if test="sowCfInFarmIn != null">`sow_cf_in_farm_in` = #{sowCfInFarmIn},</if>
            <if test="sowCfDead != null">`sow_cf_dead` = #{sowCfDead},</if>
            <if test="sowCfWeedOut != null">`sow_cf_weed_out` = #{sowCfWeedOut},</if>
            <if test="sowCfSale != null">`sow_cf_sale` = #{sowCfSale},</if>
            <if test="sowCfChgFarm != null">`sow_cf_chg_farm` = #{sowCfChgFarm},</if>
            <if test="sowCfOtherOut != null">`sow_cf_other_out` = #{sowCfOtherOut},</if>
            <if test="earlyMating != null">`early_mating` = #{earlyMating},</if>
            <if test="earlyFarrowNest != null">`early_farrow_nest` = #{earlyFarrowNest},</if>
            <if test="earlyFarrowRate != null">`early_farrow_rate` = #{earlyFarrowRate},</if>
            <if test="lateFarrowNest != null">`late_farrow_nest` = #{lateFarrowNest},</if>
            <if test="lateFarrowRate != null">`late_farrow_rate` = #{lateFarrowRate},</if>
            <if test="farrowNest != null">`farrow_nest` = #{farrowNest},</if>
            <if test="farrowAll != null">`farrow_all` = #{farrowAll},</if>
            <if test="farrowLive != null">`farrow_live` = #{farrowLive},</if>
            <if test="farrowHealth != null">`farrow_health` = #{farrowHealth},</if>
            <if test="farrowWeak != null">`farrow_weak` = #{farrowWeak},</if>
            <if test="farrowDead != null">`farrow_dead` = #{farrowDead},</if>
            <if test="farrowSjmh != null">`farrow_sjmh` = #{farrowSjmh},</if>
            <if test="avgFarrow != null">`avg_farrow` = #{avgFarrow},</if>
            <if test="avgFarrowLive != null">`avg_farrow_live` = #{avgFarrowLive},</if>
            <if test="avgFarrowHealth != null">`avg_farrow_health` = #{avgFarrowHealth},</if>
            <if test="avgFarrowWeak != null">`avg_farrow_weak` = #{avgFarrowWeak},</if>
            <if test="weight != null">`weight` = #{weight},</if>
            <if test="avgWeight != null">`avg_weight` = #{avgWeight},</if>
            <if test="firstWeight != null">`first_weight` = #{firstWeight},</if>
            <if test="boarStart != null">`boar_start` = #{boarStart},</if>
            <if test="boarIn != null">`boar_in` = #{boarIn},</if>
            <if test="boarDead != null">`boar_dead` = #{boarDead},</if>
            <if test="boarWeedOut != null">`boar_weed_out` = #{boarWeedOut},</if>
            <if test="boarSale != null">`boar_sale` = #{boarSale},</if>
            <if test="boarOtherOut != null">`boar_other_out` = #{boarOtherOut},</if>
            <if test="boarEnd != null">`boar_end` = #{boarEnd},</if>
            <if test="version != null">`version` = #{version},</if>
            updated_at = now()
        </set>
        WHERE id = #{id}
    </update>

    <delete id="delete" parameterType="long">
        DELETE FROM <include refid="tb"/>
        WHERE id = #{id}
    </delete>
    
    <select id="count" parameterType="map" resultType="long">
        SELECT COUNT(1)
        FROM <include refid="tb"/>
        <include refid="criteria"/>
    </select>

    <select id="paging" parameterType="map" resultMap="DoctorPigDailyMap">
        SELECT <include refid="cols_all"/>
        FROM <include refid="tb"/>
        <include refid="criteria"/>
        ORDER BY `id` DESC
        LIMIT #{offset}, #{limit}
    </select>

    <select id="list" parameterType="map" resultMap="DoctorPigDailyMap">
        SELECT <include refid="cols_all"/>
        FROM <include refid="tb"/>
        <include refid="criteria"/>
        ORDER BY `id` DESC
    </select>

</mapper>
